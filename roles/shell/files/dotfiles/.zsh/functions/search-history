BUFFER=$(
    history -nr 1 \
    | fzf \
        --no-sort \
        --no-mouse \
        --reverse \
        --ansi \
        --query="$LBUFFER")
if (($? != 0)); then
    return
fi
CURSOR=$#BUFFER
zle accept-line
